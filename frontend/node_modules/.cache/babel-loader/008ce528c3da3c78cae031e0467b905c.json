{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\82102\\\\Study_Hub\\\\Study_Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\82102\\\\Study_Hub\\\\Study_Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\82102\\\\Study_Hub\\\\Study_Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\82102\\\\Study_Hub\\\\Study_Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\82102\\\\Study_Hub\\\\Study_Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\82102\\\\Study_Hub\\\\Study_Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\82102\\\\Study_Hub\\\\Study_Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\82102\\\\Study_Hub\\\\Study_Project\\\\frontend\\\\src\\\\components\\\\contents\\\\NearContentsListView.js\";\nimport React, { Component } from 'react';\nimport { AppContext } from '../../contexts/appContext';\nimport queryString from 'query-string';\n/* global naver */\n\nvar NearContentsListView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NearContentsListView, _Component);\n\n  function NearContentsListView() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NearContentsListView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NearContentsListView)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      contents: [],\n      addresses: []\n    };\n    _this.getContents =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var contents;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.context.actions.getContents();\n\n            case 2:\n              contents = _context.sent;\n\n              _this.setState({\n                contents: contents\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.getAddresses = function (latlng) {\n      var tm128 = naver.maps.TransCoord.fromLatLngToTM128(latlng);\n      return new Promise(function (resolve, reject) {\n        naver.maps.Service.reverseGeocode({\n          location: tm128,\n          coordType: naver.maps.Service.CoordType.TM128\n        }, function (status, response) {\n          if (status === naver.maps.Service.Status.ERROR) {\n            return reject(alert('지도 API 오류입니다.'));\n          }\n\n          ;\n          var items = response.result.items;\n          var addresses = [];\n\n          for (var i = 0, ii = items.length, item; i < ii; i++) {\n            item = items[i];\n            addresses.push(item.address);\n          }\n\n          ;\n          return resolve(addresses);\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(NearContentsListView, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var currentPosition, currentLatLng;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.getContents();\n                currentPosition = queryString.parse(this.props.location.search);\n                currentLatLng = new naver.maps.LatLng(currentPosition.lat, currentPosition.lng);\n                _context2.t0 = this;\n                _context2.next = 6;\n                return this.getAddresses(currentLatLng);\n\n              case 6:\n                _context2.t1 = _context2.sent;\n                _context2.t2 = {\n                  addresses: _context2.t1\n                };\n\n                _context2.t0.setState.call(_context2.t0, _context2.t2);\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.state.contents.map(function (contents, index) {\n        if (contents.studyLocation.split(' ').splice(0, 2).join(' ') === '서울특별시 중구') return React.createElement(\"div\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, contents.title), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"\\uBD84\\uB958 : \", contents.category), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, \"\\uC2A4\\uD130\\uB514 \\uC124\\uBA85 : \", contents.description), React.createElement(\"img\", {\n          src: \"http://localhost:8080/\".concat(contents.imageUrl),\n          width: \"250\",\n          height: \"250\",\n          alt: \"coverimg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, contents.studyLocation));\n      });\n    }\n  }]);\n\n  return NearContentsListView;\n}(Component);\n\nNearContentsListView.contextType = AppContext;\nexport default NearContentsListView;","map":{"version":3,"sources":["C:\\Users\\82102\\Study_Hub\\Study_Project\\frontend\\src\\components\\contents\\NearContentsListView.js"],"names":["React","Component","AppContext","queryString","NearContentsListView","state","contents","addresses","getContents","context","actions","setState","getAddresses","latlng","tm128","naver","maps","TransCoord","fromLatLngToTM128","Promise","resolve","reject","Service","reverseGeocode","location","coordType","CoordType","TM128","status","response","Status","ERROR","alert","items","result","i","ii","length","item","push","address","currentPosition","parse","props","search","currentLatLng","LatLng","lat","lng","map","index","studyLocation","split","splice","join","title","category","description","imageUrl","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { AppContext } from '../../contexts/appContext';\r\nimport queryString from 'query-string';\r\n/* global naver */\r\n\r\nclass NearContentsListView extends Component {\r\n  static contextType = AppContext;\r\n\r\n  state = {\r\n    contents: [],\r\n    addresses: [],\r\n  }\r\n\r\n  getContents = async () => {\r\n    const contents = await this.context.actions.getContents();\r\n    this.setState({\r\n      contents: contents,\r\n    });\r\n  }\r\n  \r\n  async componentDidMount() {\r\n    this.getContents();\r\n    const currentPosition = queryString.parse(this.props.location.search);\r\n    const currentLatLng = new naver.maps.LatLng(currentPosition.lat, currentPosition.lng);\r\n\r\n    this.setState({\r\n      addresses: await this.getAddresses(currentLatLng),\r\n    });\r\n  }\r\n\r\n  getAddresses = (latlng) => {\r\n    const tm128 = naver.maps.TransCoord.fromLatLngToTM128(latlng);\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      naver.maps.Service.reverseGeocode({\r\n        location: tm128,\r\n        coordType: naver.maps.Service.CoordType.TM128\r\n      },(status, response) => {\r\n          if (status === naver.maps.Service.Status.ERROR) {\r\n            return reject(alert('지도 API 오류입니다.'));\r\n          };\r\n  \r\n          const { items } = response.result;\r\n          const addresses = [];\r\n\r\n          for (let i=0, ii=items.length, item; i<ii; i++) {\r\n            item = items[i];\r\n            addresses.push(item.address);\r\n          };\r\n          return resolve(addresses);\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.contents.map((contents, index) => {\r\n        if(contents.studyLocation.split(' ').splice(0,2).join(' ') === '서울특별시 중구')\r\n        return <div key={index}>\r\n          <h1>{contents.title}</h1> \r\n          <p>분류 : {contents.category}</p> \r\n          <p>스터디 설명 : {contents.description}</p>\r\n          <img src={`http://localhost:8080/${contents.imageUrl}`} width=\"250\" height=\"250\" alt=\"coverimg\" />\r\n          <p>{contents.studyLocation}</p>\r\n        </div>\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\nexport default NearContentsListView;"]},"metadata":{},"sourceType":"module"}